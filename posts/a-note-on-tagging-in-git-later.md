---
title: 'Gitのタグ付けを長い間忘れていたことに気づいた時のメモ'
date: '20191220'
tags: 'Git Github'
---
Gitのタグ付けとリリース、ちゃんとしていますか？

僕はよく忘れます。
もちろんリリース毎に忘れずにしているに越したことはないのですが、バタバタしていると数ヶ月分のタグとリリースが抜け落ちていることに気づくことが稀によくあります。

よく同じことを調べるので、未来の自分と同じような開発者の方のために、方法を備忘録として残しておきます。

## タグ付けをする必要のあるコミットを探す
まずはタグ付けをする必要があるコミットを探します。

```
$ git log --grep 検索したい文字列
```

にするとタグ付けを行いたいコミットの一覧を表示できます。
今のプロジェクトではリリースの際のブランチ名が `release/xxx` という名前になっているので、 `検索したい文字列` の部分を `release` にしてそのブランチがマージされた際のコミットを探しました。

## タグ付けをする
該当のコミットの一覧が表示できたら、

```
$ git tag タグ名 コミットハッシュ
```

でタグ付けをしていきます。
先ほどのコミット一覧とは別の画面を開いて、一覧を見ながら作業すると楽です。

## ローカルのタグをリモートにpushする
ローカルでつけたタグは明示的にpushしてやる必要があります。

```
$ git push origin --tags
```
のようにすると、先ほど設定したタグをリモートに一気に反映できます。

